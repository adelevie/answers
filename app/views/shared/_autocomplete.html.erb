<script type="text/javascript">
$(document).ready(function(){

  var questions = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    prefetch: {
      url: '../api/v1/questions/',
      filter: function(response) {
        return $.map(response.questions, function(question) { return { name: question.text }; });
      }  
    } 
  });

  questions.initialize();

  $('#query').typeahead(
  {
    highlight: true,
    minLength: 1
  },
  {
    name: 'questions',
    displayKey: 'name',
    source: questions.ttAdapter()
  });

});

</script>
